//<![CDATA[
  var htmlTimeData = document.getElementById("question-time");
  var htmlTotalQuestions = document.querySelector(".question-bank-wrap");
  if (htmlTimeData != null){
    var time = htmlTimeData.getAttribute("time-data");
    var checktime = new Date().getTime();
    var settime = checktime+(time*3600000);
    var timeStart = settime - new Date().getTime();
    var numberOfQuestions = htmlTotalQuestions.getAttribute("question-data");
  }
  var amountCorrect = 0;
  var amountIncorrect = 0;
  var missed = 0;
  var intervaltime;
  var clickStart = document.getElementById("clickStart");
  if (clickStart != null){
    clickStart.onclick = inputData;
  }
  function inputData(){
    var htmlData = "";
    htmlData += "<div class='input-data'>";
    htmlData += "<form>";
    htmlData += "<label for='name'><input id='name' placeholder='Họ và tên' type='text' autocomplete='off'/></label>";
    htmlData += "<label for='class'><input id='class' placeholder='Lớp' type='text' autocomplete='off'/></label>";
    htmlData += "</form>";
    htmlData += "<button id='start-doing'>Làm bài</button>";
    htmlData += "</div>";
    document.getElementById("clickStart").style.display = "none";
    document.getElementById("input-data").innerHTML = htmlData;
    var myWork = document.getElementById("start-doing");
    if (myWork != null){
      myWork.onclick = function(){
        if (document.getElementById("name").value == ""){
          document.getElementById("name").focus();
          return false;
        } else if (document.getElementById("class").value == ""){
          document.getElementById("class").focus();
          return false;
        } else {
          document.getElementById("input-data").style.display = "none";
          document.getElementById("question-bank").style.display = "block";
          document.querySelector(".name-participant").innerHTML = "<b>Tên:</b> " + document.getElementById("name").value
          document.querySelector(".class-participant").innerHTML = "<b>Lớp:</b> " + document.getElementById("class").value
          start();
          return false;
        }
      }
    }
  }
  function start() {
    intervaltime = setInterval(timerGo, 1000);
  }
  function finished(){
    clearInterval(intervaltime);
    console.log(clearInterval(intervaltime));
  }
  function timerGo() {
    timeStart -= 1e3;
    var l = Math.floor(timeStart / 864e5),
        o = Math.floor((timeStart % 864e5) / 36e5),
        n = Math.floor((timeStart % 36e5) / 6e4),
        s = Math.floor((timeStart / 1e3) % 60);
    if (timeStart > 0){
      document.querySelector("#question-time").innerHTML = "<b>Thời gian còn lại:</b> " + ("0" + o).slice(-2) + ":" + ("0" + n).slice(-2) + ":" + ("0" + s).slice(-2);
    } else if (timeStart < 0 || timeStart === 0) {
      document.querySelector("#question-time").innerHTML = "<b>Hết thời gian</b>";
      document.querySelector(".time-wrap").style.display = "none";
      document.querySelector(".question-bank-wrap").style.display = "none";
      document.getElementById("menu-questions").style.display = "none";
      document.getElementById("view-result-value").style.display = "block";
      see Results();
      finished();
    }
  }
  function see Results(){
    var htmlResults = "";
    var nilai = ((amountCorrect/numberOfQuestions)*100);
    var name = document.getElementById("name").value + " (" + document.getElementById("class").value + ")";
    htmlResults += "<h3>Cảm ơn bạn " + name + ", đây là điểm của bạn.</h3>";
    htmlResults += "<p>Câu trả lời đúng: " + amountCorrect + "</p>";
    htmlResults += "<p>Câu trả lời sai: " + amountIncorrect + "</p>";
    htmlResults += "<p>Không có câu trả lời: " + missed + "</p>";
    htmlResults += "<p>Số điểm: " + nilai + "</p>";
    var htmlAnswer = document.getElementById("work-manship");
    if (htmlAnswer != null){
      htmlAnswer.innerHTML = htmlResults;
    }
  }
  function done(){
    document.querySelector(".time-wrap").style.display = "none";
    document.querySelector(".question-bank-wrap").style.display = "none";
    document.getElementById("menu-questions").style.display = "none";
    document.getElementById("view-result-value").style.display = "block";
    see Results();
    finished();
  }
  var tombolMenuquestion = document.querySelectorAll(".see-question");
  if (tombolMenuquestion != null){
    for (var i = 0; i < tombolMenuquestion.length; i++) {
      tombolMenuquestion[i].addEventListener( "click", function() {
        document.getElementById("show-hide-box-question").classList.toggle("active");
      });
    }
  }
  var questionfinished = document.getElementById("question-finished");
  if (questionfinished != null){
    questionfinished.onclick = done;
  }
  var pilgan = document.querySelectorAll("input[type=radio]");
  if (pilgan != null){
    for (var i = 0; i < pilgan.length; i++) {
      pilgan[i].addEventListener( "change", function() {
        amountCorrect = document.querySelectorAll("input[value=correct]:checked").length;
        amountIncorrect = document.querySelectorAll("input[value=wrong]:checked").length;
        missed = numberOfQuestions - (amountCorrect + amountIncorrect);
      });
    }
  }
  var slidequestionIndex = 1;
  showquestionSlide(slidequestionIndex);
  function nextprevquestion(n) {
    showquestionSlide(slidequestionIndex += n);
  }
  function showquestionButton(n) {
    showquestionSlide(slidequestionIndex = n);
  }
  function showquestionSlide(n) {
    var i;
    var slides = document.getElementsByClassName("box-question");
    var dots = document.getElementsByClassName("question-button");
    if (n > slides.length) {slidequestionIndex = 1}    
    if (n < 1) {slidequestionIndex = slides.length;}
    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";  
    }
    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slidequestionIndex-1].style.display = "block";  
    dots[slidequestionIndex-1].className += " active";
  }
  document.getElementById("prev-question").onclick = function(){
    nextprevquestion(-1);
  }
  document.getElementById("next-question").onclick = function(){
    nextprevquestion(1);
  }
    var tombolquestion = document.querySelectorAll(".question-button");
  for (var i = 0; i < tombolquestion.length; i++) {
    tombolquestion[i].addEventListener( "click", function() {
      var ceknumber = this.getAttribute("data-number");
      showquestionButton(ceknumber);
    });
  }
//]]>
